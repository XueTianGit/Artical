title: Android进阶-屏幕适配
date: 2016/3/3 21:10:00                        
categories: Android
---

# Android进阶-屏幕适配 #

>- 由于Android手机种类众多，为了能使我们的App在大多数手机上都有我们期望的UI界面，因此，做好屏幕适配是非常重要的。
>- 为了避免因屏幕适配而过多改动UI代码，我们可以这样做来减少后期屏幕适配的难度
>    - 开发时找一款主流屏幕， 比如 1280 * 720
>    - 不要使用AbsoluteLayout, 多使用RelativeLayout和LinearLayout
>    - 使用dp, 而不是px
>    - 养成良好的布局习惯



- 那么如何解决屏幕适配的问题呢？

- 图片适配（用的比较少）
>- 通过在drawable的不同目录下放不同适应屏幕需求的图片从而对不同手机进行适配
>- 但是实际上没有必要在每个图片的目录下都放一套图片（一般都把一套图片放在drawable-hdpi目录下）
>- 还有就是，在开发中，一般都会把图片的宽与高写死


- 布局适配（用的少）
>- 针对特殊屏幕来写一套布局
>- 例如， 针对480 * 800我们可以新建layout-480×800目录，将它所需要的特殊布局，放在这个目录下

- 尺寸适配
>- 首先，应知道dp与px的关系: dp = px / 设备密度
>- 设备密度的获取 : getResource().getDisplayMetrics().density
>- px 与 dp的转换 ： int px = (int)(dp * density + 0.5);  //四舍五入
>- 一些常用设备的设备密度值：   320 * 240(0.75), 320 * 480(1), 480 * 800(1.5), 1280 * 720(2)
>- 因此， 我们通过使用dp作为尺寸单位， 可以实现不同设备上显示出相同的效果
>- 但是，有时使用dp可能还是会出一些问题
>    - 这时，可以在values下新建dimens.xml
>    - 在这个xml文件下配置<dimen/>， 因为values可以有多个， 从而可以对不同的设备取不同的dp值
>- 可以看出，尺寸适配是比较使用的，我们可以只做一些小的工作从而就解决布局问题

- 权重适配
>- 这个是专门针对<LinearLayout/>
>- 主要涉及到两个属性
>    - layout_weight : 子控件占父控件的权重
>    - weightSum : 可以利用它设置父控件的总权重

- 代码适配
>- 动态获取屏幕的信息， 然后动态设置LayoutParams




