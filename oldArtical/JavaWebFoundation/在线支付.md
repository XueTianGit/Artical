title: JavaWebFoundation- 在线支付
date: 2016/3/1 9:18:40               
categories: JavaWebFoundation
---


# 在线支付 #
为使用户完成在线支付，共有两种办法：
1. 网站直接与银行对接
	根据银行的接入规范，引导用户浏览器重定向到支付页面，并根据银行接入规范，让用户向银行发出响应的支付请求，向网站账户支付。
	缺点： 维护量大，成本高
2. 通过第三方支付公司与银行对接
    例如： 支付宝、易宝。  这样我们只需和第三方支付平台打交道， 而不需直接与银行交流。
	缺点： 需要支付第三方手续费， 并且存在风险。

## 通过第三方的  支付交互过程 ##


NT: 对于第四步安全问题的解决：
	例如： 易宝支付会为每个网站生成一个密钥， 网站在构建用户浏览器重定向url时，会将易宝需要的数据和密钥混合而成一个hmac码，那么，用户向易宝重定向时带着hmac码，然后，易宝
			根据易宝密钥算出hmac码， 两个hmac码一对比，易宝就可以知道参数有没有修改，并且可以知道支付请求来自与那个网站。